<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¾µæƒè´£ä»»PPTäº’åŠ¨æ¸¸æˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
            overflow: auto;
            font-size: 20px;
            padding: 10px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            overflow-y: auto;
            max-width: 1200px;
            width: 100%;
            max-height: 95vh;
            position: relative;
        }

        .header {
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            text-align: center;
            padding: 20px;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .header h1 {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .content {
            padding: 25px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: auto;
        }

        .question-screen {
            text-align: center;
            width: 100%;
        }

        .case-description {
            background: #fff8f0;
            border-radius: 15px;
            padding: 25px;
            margin: 15px 0 25px 0; /* å¢åŠ åº•éƒ¨é—´è· */
            border-left: 6px solid #ff9500;
            font-size: 24px;
            line-height: 1.7;
            text-align: left;
            box-shadow: 0 4px 12px rgba(255, 149, 0, 0.1);
            word-wrap: break-word;
        }

        .options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 20px 0;
            max-width: 1100px;
            width: 100%;
        }

        .option {
            background: #f5f5f5;
            border: 3px solid #e0e0e0;
            border-radius: 15px;
            padding: 20px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
            font-size: 22px;
            font-weight: bold;
            min-height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            word-wrap: break-word;
        }

        .option:hover {
            border-color: #4facfe;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.3);
        }

        .option.correct {
            background: #d4edda;
            border-color: #28a745;
            animation: pulse 0.6s ease;
        }

        .option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
            animation: shake 0.6s ease;
        }

        .option-description {
            font-size: 18px;
            color: #666;
            margin-top: 10px;
            line-height: 1.4;
        }

        .explanation {
            background: #e8f5e8;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border-left: 6px solid #28a745;
            display: none;
            text-align: left;
            width: 100%;
            max-width: 1100px;
            word-wrap: break-word;
        }

        .explanation h4 {
            color: #28a745;
            margin-bottom: 12px;
            font-size: 22px;
        }

        .explanation p {
            margin-bottom: 10px;
            line-height: 1.6;
            font-size: 20px;
        }

        /* ç®€åŒ–ç¿»é¡µæŒ‰é’®æ ·å¼ */
        .page-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
            margin-bottom: 20px;
        }

        .page-btn {
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 20px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .page-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
        }

        .page-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* å½“å‰é¡µç æŒ‡ç¤ºå™¨ï¼ˆç®€åŒ–ç‰ˆï¼‰ */
        .page-indicator {
            color: #4facfe;
            font-size: 20px;
            font-weight: bold;
            margin: 0 10px;
            line-height: 45px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-4px); }
            75% { transform: translateX(4px); }
        }

        .welcome-screen {
            text-align: center;
            animation: fadeIn 1s ease;
            padding: 20px 0;
        }

        .start-btn {
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            padding: 20px 50px;
            font-size: 24px;
            border-radius: 35px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 30px;
            box-shadow: 0 6px 18px rgba(79, 172, 254, 0.4);
            font-weight: bold;
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.6);
        }

        /* æ³•å¾‹æ¡æ–‡æ ·å¼ */
        .law-content {
            background: #f0f9ff;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 6px solid #4facfe;
            text-align: left;
            font-size: 22px;
            line-height: 1.7;
            max-width: 1100px;
            width: 100%;
            word-wrap: break-word;
        }

        .law-content h3 {
            color: #4facfe;
            margin-bottom: 20px;
            font-size: 26px;
            text-align: center;
        }

        .law-row {
            margin-bottom: 15px;
            padding: 15px 20px;
            background: white;
            border-radius: 12px;
            font-size: 22px;
            font-weight: bold;
            line-height: 1.6;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            word-wrap: break-word;
        }

        .law-row:nth-child(2) {
            background: #f0fff4;
            border-left: 5px solid #28a745;
        }

        .law-row:nth-child(3) {
            background: #fff0f5;
            border-left: 5px solid #e83e8c;
        }

        .law-row:nth-child(4) {
            background: #f0f5ff;
            border-left: 5px solid #4facfe;
        }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 1000px) {
            .options {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 700px) {
            .options {
                grid-template-columns: 1fr;
            }
            
            .case-description {
                font-size: 22px;
                padding: 20px;
            }
            
            .option {
                font-size: 20px;
                padding: 18px 12px;
            }
            
            .header h1 {
                font-size: 26px;
            }
            
            .page-controls {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="container" id="gameContainer">
        <div class="header">
            <h1>ğŸ¥ ä¾µæƒè´£ä»»æ‰¿æ‹…æ–¹å¼ - PPTäº’åŠ¨æ¸¸æˆ</h1>
        </div>

        <div class="content">
            <!-- æ¬¢è¿ç•Œé¢ -->
            <div class="welcome-screen" id="welcomeScreen">
                <!-- æ³•å¾‹æ¡æ–‡å†…å®¹ -->
                <div class="law-content">
                    <h3>ğŸ“š æ ¹æ®ã€Šæ°‘æ³•å…¸ã€‹ç¬¬179æ¡ï¼Œä¾µæƒè´£ä»»æ‰¿æ‹…æ–¹å¼æœ‰9ç§ï¼š</h3>
                    
                    <div class="law-row">ç¬¬ä¸€ç±»ï¼Œè¡Œä¸ºåˆ¶æ­¢ç±»ï¼šâ‘ åœæ­¢ä¾µå®³ â‘¡æ’é™¤å¦¨ç¢ â‘¢æ¶ˆé™¤å±é™©</div>
                    <div class="law-row">ç¬¬äºŒç±»ï¼Œè´¢äº§æ•‘æµç±»ï¼šâ‘£è¿”è¿˜è´¢äº§ â‘¤æ¢å¤åŸçŠ¶ â‘¥èµ”å¿æŸå¤±</div>
                    <div class="law-row">ç¬¬ä¸‰ç±»ï¼Œç²¾ç¥æŠšæ…°ç±»ï¼šâ‘¦èµ”ç¤¼é“æ­‰ â‘§æ¶ˆé™¤å½±å“ â‘¨æ¢å¤åèª‰</div>
                </div>
                
                <button class="start-btn" onclick="startGame()">ğŸš€ å¼€å§‹æ¸¸æˆ</button>
            </div>

            <!-- é¢˜ç›®ç•Œé¢ -->
            <div class="question-screen" id="questionScreen" style="display: none;">
                <div class="case-description" id="caseDescription"></div>
                
                <div class="options" id="options"></div>
                
                <div class="explanation" id="explanation"></div>
                
                <!-- ç®€åŒ–ç¿»é¡µæ§åˆ¶ -->
                <div class="page-controls">
                    <button class="page-btn" id="prevBtn" onclick="prevQuestion()" disabled>â¬…ï¸ ä¸Šä¸€é¢˜</button>
                    <span class="page-indicator" id="pageIndicator"></span>
                    <button class="page-btn" id="nextBtn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ â¡ï¸</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentQuestion = 0;
        let gameEnded = false;
        let selectedMultipleChoices = [];
        let speechInstance = null;

        const questions = [
            {
                case: "ï¼ˆå•é€‰ï¼‰å°å¼ åœ¨å›¾ä¹¦é¦†å¤§å£°å–§å“—ï¼Œå½±å“å…¶ä»–åŒå­¦å­¦ä¹ ã€‚å›¾ä¹¦é¦†ç®¡ç†å‘˜è¦æ±‚ä»–åœæ­¢è¿™ç§è¡Œä¸ºã€‚",
                correctAnswer: "åœæ­¢ä¾µå®³",
                options: [
                    { text: "åœæ­¢ä¾µå®³", description: "ç«‹å³åˆ¶æ­¢æ­£åœ¨è¿›è¡Œçš„ä¾µæƒè¡Œä¸º" },
                    { text: "æ’é™¤å¦¨ç¢", description: "æ¸…é™¤é˜»ç¢æƒåˆ©è¡Œä½¿çš„éšœç¢" },
                    { text: "æ¶ˆé™¤å±é™©", description: "æ¶ˆé™¤å¯èƒ½é€ æˆæŸå®³çš„å±é™©çŠ¶æ€" }
                ],
                explanation: {
                    title: "âœ… ç­”æ¡ˆè§£æï¼šåœæ­¢ä¾µå®³",
                    content: [
                        "å°å¼ æ­£åœ¨å›¾ä¹¦é¦†å¤§å£°å–§å“—ï¼Œè¿™æ˜¯æ­£åœ¨è¿›è¡Œçš„ä¾µæƒè¡Œä¸ºã€‚",
                        "åœæ­¢ä¾µå®³ç”¨äºåˆ¶æ­¢æ­£åœ¨å‘ç”Ÿçš„ä¾µæƒè¡Œä¸ºï¼Œé¿å…æŸå®³æ‰©å¤§ã€‚",
                        "è®°å¿†æŠ€å·§ï¼šæ­£åœ¨è¿›è¡Œçš„è¡Œä¸ºç”¨'åœæ­¢'ã€‚"
                    ]
                }
            },
            {
                case: "ï¼ˆå•é€‰ï¼‰å°ç‹çš„æ±½è½¦è¢«é‚»å±…å°æçš„ç”µåŠ¨è½¦å µåœ¨è‡ªå®¶è½¦åº“é‡Œï¼Œæ— æ³•å°†è½¦å¼€å‡ºæ¥ã€‚",
                correctAnswer: "æ’é™¤å¦¨ç¢",
                options: [
                    { text: "åœæ­¢ä¾µå®³", description: "ç«‹å³åˆ¶æ­¢æ­£åœ¨è¿›è¡Œçš„ä¾µæƒè¡Œä¸º" },
                    { text: "æ’é™¤å¦¨ç¢", description: "æ¸…é™¤é˜»ç¢æƒåˆ©æ­£å¸¸è¡Œä½¿çš„ç‰©ç†éšœç¢" },
                    { text: "è¿”è¿˜è´¢äº§", description: "è¦æ±‚è¿”è¿˜è¢«ä¸å½“å æœ‰çš„è´¢äº§" }
                ],
                explanation: {
                    title: "âœ… ç­”æ¡ˆè§£æï¼šæ’é™¤å¦¨ç¢",
                    content: [
                        "å°æçš„ç”µåŠ¨è½¦é˜»ç¢äº†å°ç‹æ­£å¸¸ä½¿ç”¨æ±½è½¦çš„æƒåˆ©ã€‚",
                        "æ’é™¤å¦¨ç¢ç”¨äºæ¸…é™¤é˜»ç¢æƒåˆ©æ­£å¸¸è¡Œä½¿çš„ç‰©ç†éšœç¢ã€‚",
                        "è®°å¿†æŠ€å·§ï¼šæœ‰éšœç¢é˜»æŒ¡ç”¨'æ’é™¤'ã€‚"
                    ]
                }
            },
            {
                case: "ï¼ˆå•é€‰ï¼‰å¹¿å‘Šç‰Œæ‘‡æ‘‡æ¬²å ï¼Œå­˜åœ¨å®‰å…¨éšæ‚£ã€‚ç›‘ç®¡éƒ¨é—¨è¦æ±‚å•†å®¶æ¶ˆé™¤å®‰å…¨éšæ‚£ã€‚",
                correctAnswer: "æ¶ˆé™¤å±é™©",
                options: [
                    { text: "æ¶ˆé™¤å±é™©", description: "æ¶ˆé™¤å¯èƒ½é€ æˆæŸå®³çš„å±é™©çŠ¶æ€" },
                    { text: "åœæ­¢ä¾µå®³", description: "ç«‹å³åˆ¶æ­¢æ­£åœ¨è¿›è¡Œçš„ä¾µæƒè¡Œä¸º" },
                    { text: "æ’é™¤å¦¨ç¢", description: "æ¸…é™¤é˜»ç¢æƒåˆ©è¡Œä½¿çš„éšœç¢" }
                ],
                explanation: {
                    title: "âœ… ç­”æ¡ˆè§£æï¼šæ¶ˆé™¤å±é™©",
                    content: [
                        "å¹¿å‘Šç‰Œå­˜åœ¨é€ æˆä»–äººæŸå®³çš„æ½œåœ¨å±é™©ã€‚",
                        "æ¶ˆé™¤å±é™©ç”¨äºæ¶ˆé™¤å¯èƒ½é€ æˆæŸå®³çš„å±é™©çŠ¶æ€ï¼Œå±äºé¢„é˜²æ€§æªæ–½ã€‚",
                        "è®°å¿†æŠ€å·§ï¼šæœ‰æ½œåœ¨å±é™©ç”¨'æ¶ˆé™¤'ã€‚"
                    ]
                }
            },
            {
                case: "ï¼ˆå•é€‰ï¼‰å°èµµå€Ÿäº†åŒå­¦å°é’±çš„é«˜ä¸­æ•°å­¦æ•™æï¼Œè‡³ä»Šæœªè¿˜ï¼Œå°é’±è¦æ±‚è¿”è¿˜ã€‚",
                correctAnswer: "è¿”è¿˜è´¢äº§",
                options: [
                    { text: "è¿”è¿˜è´¢äº§", description: "è¦æ±‚è¿”è¿˜è¢«ä»–äººä¸å½“å æœ‰çš„è´¢äº§" },
                    { text: "èµ”å¿æŸå¤±", description: "èµ”å¿å› ä¾µæƒé€ æˆçš„ç»æµæŸå¤±" },
                    { text: "æ¢å¤åŸçŠ¶", description: "å°†è´¢äº§æ¢å¤åˆ°æŸå®³å‘ç”Ÿå‰çš„çŠ¶æ€" }
                ],
                explanation: {
                    title: "âœ… ç­”æ¡ˆè§£æï¼šè¿”è¿˜è´¢äº§",
                    content: [
                        "å°èµµä¸å½“å æœ‰ä»–äººçš„æ•™ææ‹’ä¸è¿”è¿˜ã€‚",
                        "è¿”è¿˜è´¢äº§ç”¨äºè¦æ±‚è¿”è¿˜è¢«ä»–äººä¸å½“å æœ‰çš„è´¢äº§ã€‚",
                        "è®°å¿†æŠ€å·§ï¼šå€Ÿä¸œè¥¿ä¸è¿˜ç”¨'è¿”è¿˜'ã€‚"
                    ]
                }
            },
            {
                case: "ï¼ˆå•é€‰ï¼‰å°é™ˆä¸å°å¿ƒæ‘”åäº†åŒå­¦çš„å¹³æ¿ç”µè„‘ï¼Œå±å¹•ç¢è£‚ï¼Œä¿®ç†åº—å¯ä»¥ç»´ä¿®ã€‚",
                correctAnswer: "æ¢å¤åŸçŠ¶",
                options: [
                    { text: "æ¢å¤åŸçŠ¶", description: "å°†è´¢äº§æ¢å¤åˆ°æŸå®³å‘ç”Ÿå‰çš„çŠ¶æ€" },
                    { text: "èµ”å¿æŸå¤±", description: "èµ”å¿å› ä¾µæƒé€ æˆçš„ç»æµæŸå¤±" },
                    { text: "è¿”å›è´¢äº§", description: "è¦æ±‚è¿”è¿˜è¢«ä¸å½“å æœ‰çš„è´¢äº§" }
                ],
                explanation: {
                    title: "âœ… ç­”æ¡ˆè§£æï¼šæ¢å¤åŸçŠ¶",
                    content: [
                        "å¹³æ¿ç”µè„‘è¢«æ‘”åä½†å¯ä»¥ä¿®å¤è¿˜åŸã€‚",
                        "æ¢å¤åŸçŠ¶ç”¨äºå°†è´¢äº§æ¢å¤åˆ°æŸå®³å‘ç”Ÿå‰çš„çŠ¶æ€ã€‚",
                        "è®°å¿†æŠ€å·§ï¼šä¸œè¥¿åäº†èƒ½ä¿®ç”¨'æ¢å¤åŸçŠ¶'ã€‚"
                    ]
                }
            },
            {
                case: "ï¼ˆå•é€‰ï¼‰å°å‘¨éª‘è½¦æ’ä¼¤å°åˆ˜ï¼Œé€ æˆå°åˆ˜åŒ»ç–—è´¹ã€è¯¯å·¥è´¹ç­‰ç»æµæŸå¤±ï¼Œå°åˆ˜è¦æ±‚èµ”å¿ã€‚",
                correctAnswer: "èµ”å¿æŸå¤±",
                options: [
                    { text: "èµ”å¿æŸå¤±", description: "èµ”å¿å› ä¾µæƒé€ æˆçš„ç»æµæŸå¤±" },
                    { text: "æ¢å¤åŸçŠ¶", description: "å°†è´¢äº§æ¢å¤åˆ°æŸå®³å‘ç”Ÿå‰çš„çŠ¶æ€" },
                    { text: "èµ”ç¤¼é“æ­‰", description: "å‘æƒåˆ©äººè¡¨ç¤ºæ­‰æ„" }
                ],
                explanation: {
                    title: "âœ… ç­”æ¡ˆè§£æï¼šèµ”å¿æŸå¤±",
                    content: [
                        "æ’ä¼¤é€ æˆå®é™…çš„ç»æµæŸå¤±ï¼ŒåŒ…æ‹¬åŒ»ç–—è´¹å’Œè¯¯å·¥è´¹ç­‰ã€‚",
                        "èµ”å¿æŸå¤±ç”¨äºè¡¥å¿å› ä¾µæƒé€ æˆçš„ç»æµæŸå¤±ã€‚",
                        "è®°å¿†æŠ€å·§ï¼šé€ æˆç»æµæŸå¤±ç”¨'èµ”å¿æŸå¤±'ã€‚"
                    ]
                }
            },
            {
                case: "ï¼ˆå¤šé€‰ï¼‰å°éƒ‘æ¶æ„ä¸­ä¼¤å°é©¬ï¼Œé€ æˆå°é©¬åèª‰ä¸¥é‡å—æŸï¼Œç¤¾ä¼šè¯„ä»·å¤§å¹…ä¸‹é™ã€‚",
                correctAnswer: ["èµ”ç¤¼é“æ­‰", "æ¶ˆé™¤å½±å“", "æ¢å¤åèª‰"],
                isMultipleChoice: true,
                options: [
                    { text: "èµ”ç¤¼é“æ­‰", description: "å‘æƒåˆ©äººè¡¨ç¤ºæ­‰æ„" },
                    { text: "æ¶ˆé™¤å½±å“", description: "æ¶ˆé™¤å› ä¾µæƒé€ æˆçš„ä¸è‰¯ç¤¾ä¼šå½±å“" },
                    { text: "æ¢å¤åèª‰", description: "æ¢å¤è¢«æŸå®³çš„åèª‰æƒ" }
                ],
                explanation: {
                    title: "âœ… ç­”æ¡ˆè§£æï¼šèµ”ç¤¼é“æ­‰ã€æ¶ˆé™¤å½±å“ã€æ¢å¤åèª‰",
                    content: [
                        "å°éƒ‘æ¶æ„ä¸­ä¼¤é€ æˆå°é©¬åèª‰ä¸¥é‡å—æŸï¼Œä¾µçŠ¯äº†äººæ ¼æƒã€‚",
                        "èµ”ç¤¼é“æ­‰ï¼šç”¨äºä¾µçŠ¯äººæ ¼æƒã€åèª‰æƒæ—¶è¡¨ç¤ºæ­‰æ„ã€‚",
                        "æ¶ˆé™¤å½±å“ï¼šç”¨äºæ¶ˆé™¤ä¾µæƒè¡Œä¸ºé€ æˆçš„ä¸è‰¯ç¤¾ä¼šå½±å“ã€‚",
                        "æ¢å¤åèª‰ï¼šç”¨äºæ¢å¤è¢«æŸå®³çš„åèª‰æƒï¼Œé‡å¡‘è‰¯å¥½ç¤¾ä¼šå½¢è±¡ã€‚",
                        "è®°å¿†æŠ€å·§ï¼šä¾µçŠ¯äººæ ¼æƒæ—¶ï¼Œè¿™ä¸‰ç§æ–¹å¼å¯èƒ½åŒæ—¶é€‚ç”¨ã€‚"
                    ]
                }
            }
        ];

        // è¯­éŸ³æœ—è¯»åŠŸèƒ½ - è‡ªåŠ¨æœ—è¯»é¢˜ç›®
        function speakText(text, rate = 0.85, pitch = 1) {
            if (window.speechSynthesis && window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
            }
            
            if ('speechSynthesis' in window) {
                speechInstance = new SpeechSynthesisUtterance(text);
                speechInstance.lang = 'zh-CN';
                speechInstance.rate = rate;
                speechInstance.pitch = pitch;
                speechInstance.volume = 1;
                
                window.speechSynthesis.speak(speechInstance);
            }
        }

        function startGame() {
            document.getElementById('welcomeScreen').style.display = 'none';
            document.getElementById('questionScreen').style.display = 'block';
            
            currentQuestion = 0;
            gameEnded = false;
            selectedMultipleChoices = [];
            
            showQuestion();
        }

        function showQuestion() {
            const question = questions[currentQuestion];
            
            // åªæ˜¾ç¤ºæ¡ˆä¾‹æè¿°ï¼Œä¸æ˜¾ç¤ºå…¶ä»–æ ‡é¢˜
            document.getElementById('caseDescription').textContent = question.case;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                
                if (question.isMultipleChoice) {
                    optionDiv.onclick = () => toggleMultipleChoiceAnswer(option.text, optionDiv);
                } else {
                    optionDiv.onclick = () => selectSingleAnswer(option.text, optionDiv);
                }
                
                optionDiv.innerHTML = `
                    <div style="font-size: 24px; font-weight: bold; color: #4facfe;">${option.text}</div>
                    <div class="option-description">${option.description}</div>
                `;
                
                optionsContainer.appendChild(optionDiv);
            });
            
            // éšè—è§£é‡ŠåŒºåŸŸ
            const explanation = document.getElementById('explanation');
            explanation.style.display = 'none';
            explanation.innerHTML = ''; // æ¸…ç©ºå†…å®¹
            
            // æ›´æ–°ç¿»é¡µæ§åˆ¶
            updatePageControls();
            
            // è‡ªåŠ¨æœ—è¯»é¢˜ç›®
            setTimeout(() => {
                let textToRead = question.case.replace(/ï¼ˆå•é€‰ï¼‰|ï¼ˆå¤šé€‰ï¼‰/g, '');
                speakText(textToRead);
            }, 300);
            
            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            document.querySelector('.container').scrollTop = 0;
        }

        function selectSingleAnswer(answer, element) {
            if (gameEnded) return;
            
            const question = questions[currentQuestion];
            const options = document.querySelectorAll('.option');
            
            options.forEach(option => option.style.pointerEvents = 'none');
            
            if (answer === question.correctAnswer) {
                element.classList.add('correct');
                setTimeout(() => {
                    speakText("å›ç­”æ­£ç¡®ï¼");
                }, 500);
            } else {
                element.classList.add('incorrect');
                setTimeout(() => {
                    speakText("å›ç­”é”™è¯¯ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š" + question.correctAnswer);
                }, 500);
                
                options.forEach(option => {
                    if (option.querySelector('div').textContent === question.correctAnswer) {
                        option.classList.add('correct');
                    }
                });
            }
            
            // æ˜¾ç¤ºè§£é‡Š
            const explanation = document.getElementById('explanation');
            explanation.innerHTML = `
                <h4>${question.explanation.title}</h4>
                ${question.explanation.content.map(text => `<p>${text}</p>`).join('')}
            `;
            explanation.style.display = 'block';
            
            // æ»šåŠ¨åˆ°è§£é‡ŠåŒºåŸŸ
            setTimeout(() => {
                explanation.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
        }

        function toggleMultipleChoiceAnswer(answer, element) {
            if (gameEnded) return;
            
            const question = questions[currentQuestion];
            
            if (element.classList.contains('selected')) {
                element.classList.remove('selected');
                element.style.background = '#f5f5f5';
                element.style.borderColor = '#e0e0e0';
                selectedMultipleChoices = selectedMultipleChoices.filter(item => item !== answer);
            } else {
                element.classList.add('selected');
                element.style.background = '#e3f2fd';
                element.style.borderColor = '#4facfe';
                selectedMultipleChoices.push(answer);
            }
        }

        function updatePageControls() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const pageIndicator = document.getElementById('pageIndicator');
            
            // æ›´æ–°é¡µç æŒ‡ç¤º
            pageIndicator.textContent = `${currentQuestion + 1} / ${questions.length}`;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            prevBtn.disabled = currentQuestion === 0;
            nextBtn.textContent = currentQuestion === questions.length - 1 ? "å®Œæˆæ¸¸æˆ" : "ä¸‹ä¸€é¢˜ â¡ï¸";
            
            // è®¾ç½®æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            prevBtn.onclick = prevQuestion;
            nextBtn.onclick = currentQuestion === questions.length - 1 ? endGame : nextQuestion;
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                // åœæ­¢å½“å‰æœ—è¯»
                if (window.speechSynthesis && window.speechSynthesis.speaking) {
                    window.speechSynthesis.cancel();
                }
                
                currentQuestion--;
                selectedMultipleChoices = [];
                showQuestion();
            }
        }

        function nextQuestion() {
            // åœæ­¢å½“å‰æœ—è¯»
            if (window.speechSynthesis && window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
            }
            
            selectedMultipleChoices = [];
            currentQuestion++;
            
            if (currentQuestion < questions.length) {
                showQuestion();
            }
        }

        function endGame() {
            gameEnded = true;
            
            // æœ—è¯»ç»“æŸè¯­
            speakText("æ­å–œæ‚¨å®Œæˆäº†æ‰€æœ‰é¢˜ç›®ï¼æ¸¸æˆç»“æŸï¼");
            
            setTimeout(() => {
                alert('ğŸ‰ æ¸¸æˆç»“æŸï¼\n\næ­å–œæ‚¨å®Œæˆäº†æ‰€æœ‰é¢˜ç›®ï¼');
                
                // è¿”å›æ¬¢è¿ç•Œé¢
                document.getElementById('questionScreen').style.display = 'none';
                document.getElementById('welcomeScreen').style.display = 'block';
            }, 1000);
        }

        // é¡µé¢åŠ è½½å®Œæˆæ—¶æ˜¾ç¤ºå…¨å±æç¤º
        window.onload = function() {
            console.log('ğŸ¥ ä¾µæƒè´£ä»»PPTäº’åŠ¨æ¸¸æˆå·²å¯åŠ¨ - ç®€åŒ–ç¿»é¡µç‰ˆ');
            
            // å¦‚æœæµè§ˆå™¨æ”¯æŒå…¨å±APIï¼Œæç¤ºæŒ‰F11è¿›å…¥å…¨å±
            if (document.documentElement.requestFullscreen) {
                console.log('æç¤ºï¼šæŒ‰ F11 é”®å¯ä»¥è¿›å…¥å…¨å±æ¼”ç¤ºæ¨¡å¼');
            }
        };
    </script>
</body>
</html>